<h2 class="ap-sticky ap-top-0 ap-z-50 ap-px-10 ap-py-4 ap-border-b ap-border ap-text-2xl ap-font-bold ap-bg-white">
    14-Day Enterprise Trial</h2>
<form [formGroup]="contactSalesForm" (ngSubmit)="submitForm()" class=" ap-flex ap-flex-col ap-h-screen">


    <div class="ap-px-10  ap-text-base ap-flex-auto ap-overflow-y-auto">
        <div class="ap-flex ap-flex-col ap-mt-6 ap-gap-2">
            <div class="ap-flex ap-gap-4 ap-justify-between">
                <mat-form-field class="ap-flex-grow" appearance="outline">
                    <mat-label>Name</mat-label>
                    <input name="fullName" cdkFocusInitial matInput [formControl]="contactSalesForm.controls.fullName"
                        autocomplete="off">
                    @if(contactSalesForm.controls.fullName.invalid)
                    {
                    <mat-error i18n>
                        Name is required
                    </mat-error>
                    }
                </mat-form-field>
                <mat-form-field class="ap-flex-grow" appearance="outline">
                    <mat-label>Work email</mat-label>
                    <input name="text" type="email" cdkFocusInitial matInput
                        [formControl]="contactSalesForm.controls.email" autocomplete="off" required>
                    @if(contactSalesForm.controls.email.invalid) {
                    <mat-error>
                        @if(contactSalesForm.controls.email.getError('email')) {
                        <ng-container i18n>Email is invalid </ng-container> }
                        @if(contactSalesForm.controls.email.getError('required')) {
                        <ng-container i18n>Email is required </ng-container> }
                        @if(contactSalesForm.controls.email.getError(ErrorCode.EMAIL_ALREADY_HAS_ACTIVATION_KEY))
                        {
                        <ng-container i18n>Email already has been used.
                        </ng-container>
                        }
                    </mat-error>
                    }

                </mat-form-field>
            </div>
            <div class="ap-flex ap-gap-4 ap-justify-between">
                <mat-form-field class="ap-flex-grow" appearance="outline">
                    <mat-label i18n>Company Name </mat-label>
                    <input name="text" type="text" matInput i18n-placeholder autocomplete="off"
                        [formControl]="contactSalesForm.controls.companyName">
                    @if(contactSalesForm.controls.companyName.invalid)
                    {
                    <mat-error i18n>
                        Company name is required.
                    </mat-error>
                    }

                </mat-form-field>
                <mat-form-field class="ap-flex-grow" appearance="outline">
                    <mat-label i18n>Number of Employees </mat-label>
                    <mat-select [formControl]="contactSalesForm.controls.numberOfEmployees">
                        @for(opt of numberOfEmployeesOptions; track opt)
                        {
                        <mat-option [value]="opt">
                            {{ opt }}
                        </mat-option>
                        }


                    </mat-select>
                    @if(contactSalesForm.controls.numberOfEmployees.invalid)
                    {
                    <mat-error i18n>
                        Number of employees is required.
                    </mat-error>
                    }

                </mat-form-field>
            </div>
            <mat-form-field class="ap-w-full">
                <mat-label i18n>Goal</mat-label>
                <mat-select [formControl]="contactSalesForm.controls.goal">
                    @for(goal of goals; track goal)
                    {
                    <mat-option [value]="goal.telemetryValue">
                        {{ goal.displayName }}
                    </mat-option>
                    }


                </mat-select>
                @if(contactSalesForm.controls.goal.invalid)
                {
                <mat-error i18n>
                    Goal is required.
                </mat-error>
                }

            </mat-form-field>
        </div>
        <div class="ap-mt-3 ap-font-semibold">Try Enterprise to access: </div>
        <div class="ap-flex  ap-mt-3 ap-flex-wrap  ">
            @for(featureName of featuresNames; track featureName)
            {
            <div class="ap-flex ap-gap-3 ap-my-3 ap-basis-[50%]">

                <svg-icon class="ap-h-[20px] ap-w-[20px] ap-fill-success" src="assets/img/custom/check.svg"
                    [applyClass]="true"></svg-icon>
                {{
                featureName
                }}


            </div>
            }
        </div>


        <div class="ap-text-body ap-font-semibold ap-mt-15 ap-mb-6  ap-text-center ">
            Deploy your automations securely with Activepieces
        </div>
        <div class="ap-flex ap-gap-6 ap-justify-center ap-items-center">
            @for(logo of logos; track logo) {
            <img class="ap-h-6" [src]="logo" />
            }
        </div>


    </div>

    <div
        class=" ap-mt-[80px]  ap-flex ap-gap-2 ap-sticky ap-bottom-0 ap-z-50 ap-px-10 ap-py-4 ap-border-t ap-border ap-bg-white">
        <ap-button type="submit" btnStyle="flat" btnColor="primary" [loading]="loading$ | async | defaultFalse" i18n>
            Submit
        </ap-button>
        <ap-button type="button" btnStyle="flat" btnColor="basic" (click)="closeSlideout()">Cancel</ap-button>
    </div>
</form>

@if(sendRequest$ | async){}